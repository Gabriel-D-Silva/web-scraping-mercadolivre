<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Busca-Oferta Mercado Livre</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div>
        <h1>Buscador de Oferta</h1>
        <h2><a href="https://www.mercadolivre.com.br/" target="_blank"><img id="logo" src="https://seeklogo.com/images/M/mercado-livre-logo-2334A3DC42-seeklogo.com.png"></a></h2>
    </div>
    <div>
        <form id="formulario" action="http://scraping-mercadolivre-api.vercel.app/api/scrape" method="get" onsubmit="bloquearFormulario()">
        <div>
            <input type="text" name="produto" placeholder="Digite o produto" required>
        </div>
        <br>
        <div>
            <input id="botao-confirmar" type="submit" value="Buscar ofertas">
        </div>
        </form>
        <div id="carregamento">
            <img src="https://upload.wikimedia.org/wikipedia/commons/3/3a/Gray_circles_rotate.gif" alt="Loading" width="100px" height="100px">
        </div>
    </div>
    <script>
        function bloquearFormulario() {
            let botaoConfirma = document.getElementById('botao-confirmar');
            botaoConfirma.disabled = true;
            botaoConfirma.value = "Aguarde um momento...";
            botaoConfirma.style.opacity = "0.5";
            botaoConfirma.style.cursor = "not-allowed";

            const rodaLoading = document.getElementById('carregamento');
            rodaLoading.style.display = 'flex';
        }
    </script>
</body>
</html>